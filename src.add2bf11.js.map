{"version":3,"sources":["node_modules/hyperapp/src/index.js","src/components/button.jsx","src/components/spinner.jsx","src/components/recordingList.jsx","src/components/app.jsx","src/index.js"],"names":["RECYCLED_NODE","LAZY_NODE","TEXT_NODE","EMPTY_OBJ","EMPTY_ARR","map","isArray","Array","defer","requestAnimationFrame","setTimeout","createClass","obj","out","length","tmp","k","merge","a","b","batch","list","reduce","item","concat","isSameAction","shouldRestart","patchSubs","oldSubs","newSubs","dispatch","oldSub","newSub","i","subs","push","patchProperty","node","key","oldValue","newValue","listener","isSvg","setProperty","actions","slice","toLowerCase","addEventListener","removeEventListener","removeAttribute","setAttribute","createNode","vdom","ns","props","type","document","createTextNode","name","createElementNS","is","createElement","len","children","appendChild","getVNode","getKey","patch","parent","oldVNode","newVNode","nodeValue","insertBefore","removeChild","tmpVKid","oldVKid","oldKey","newKey","oldVProps","newVProps","oldVKids","newVKids","oldHead","newHead","oldTail","newTail","keyed","newKeyed","propsChanged","lazy","view","createVNode","createTextVNode","value","undefined","recycleNode","nodeType","nodeName","call","childNodes","Lazy","h","rest","arguments","pop","app","state","lock","subscriptions","event","setState","newState","render","middleware","action","fx","parentNode","init","Button","className","isActive","activeStyle","styles","btnActive","classNames","btn","size","thickness","spinner","width","height","borderWidth","RecordingList","recordings","updateRecording","recording","Recording","url","createdAt","exportUrl","isExporting","audioEl","context","gainNode","panNode","bassNode","midNode","trebleNode","handleOnCreate","skipState","fn","controls","gain","min","max","step","onInput","setTargetAtTime","Number","target","currentTime","pan","bass","mid","treble","row","AudioContext","track","createMediaElementSource","createGain","StereoPannerNode","createBiquadFilter","frequency","setValueAtTime","Q","Math","SQRT1_2","connect","destination","loop","checked","Date","toLocaleString","evt","preventDefault","chunks","createMediaStreamDestination","mediaRecorder","MediaRecorder","stream","disconnect","pause","data","handleEnded","stop","blob","Blob","blobUrl","URL","createObjectURL","start","play","Object","entries","Slider","sliderContainer","slider","sliderEl","setDispatch","mergeState","partial","App","error","recorder","isRecording","getMic","recordButtonText","getUserMedia","recordingToUpdate","find","index","indexOf","updatedAt","now","navigator","mediaDevices","audio","video","then","setupForRecording","catch","mimeType","recRef","newRecording","getElementById","s","console","log"],"mappings":"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","file":"src.add2bf11.js","sourceRoot":"..","sourcesContent":["var RECYCLED_NODE = 1\nvar LAZY_NODE = 2\nvar TEXT_NODE = 3\nvar EMPTY_OBJ = {}\nvar EMPTY_ARR = []\nvar map = EMPTY_ARR.map\nvar isArray = Array.isArray\nvar defer =\n  typeof requestAnimationFrame !== \"undefined\"\n    ? requestAnimationFrame\n    : setTimeout\n\nvar createClass = function(obj) {\n  var out = \"\"\n\n  if (typeof obj === \"string\") return obj\n\n  if (isArray(obj) && obj.length > 0) {\n    for (var k = 0, tmp; k < obj.length; k++) {\n      if ((tmp = createClass(obj[k])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (var k in obj) {\n      if (obj[k]) {\n        out += (out && \" \") + k\n      }\n    }\n  }\n\n  return out\n}\n\nvar merge = function(a, b) {\n  var out = {}\n\n  for (var k in a) out[k] = a[k]\n  for (var k in b) out[k] = b[k]\n\n  return out\n}\n\nvar batch = function(list) {\n  return list.reduce(function(out, item) {\n    return out.concat(\n      !item || item === true\n        ? 0\n        : typeof item[0] === \"function\"\n        ? [item]\n        : batch(item)\n    )\n  }, EMPTY_ARR)\n}\n\nvar isSameAction = function(a, b) {\n  return isArray(a) && isArray(b) && a[0] === b[0] && typeof a[0] === \"function\"\n}\n\nvar shouldRestart = function(a, b) {\n  if (a !== b) {\n    for (var k in merge(a, b)) {\n      if (a[k] !== b[k] && !isSameAction(a[k], b[k])) return true\n      b[k] = a[k]\n    }\n  }\n}\n\nvar patchSubs = function(oldSubs, newSubs, dispatch) {\n  for (\n    var i = 0, oldSub, newSub, subs = [];\n    i < oldSubs.length || i < newSubs.length;\n    i++\n  ) {\n    oldSub = oldSubs[i]\n    newSub = newSubs[i]\n    subs.push(\n      newSub\n        ? !oldSub ||\n          newSub[0] !== oldSub[0] ||\n          shouldRestart(newSub[1], oldSub[1])\n          ? [\n              newSub[0],\n              newSub[1],\n              newSub[0](dispatch, newSub[1]),\n              oldSub && oldSub[2]()\n            ]\n          : oldSub\n        : oldSub && oldSub[2]()\n    )\n  }\n  return subs\n}\n\nvar patchProperty = function(node, key, oldValue, newValue, listener, isSvg) {\n  if (key === \"key\") {\n  } else if (key === \"style\") {\n    for (var k in merge(oldValue, newValue)) {\n      oldValue = newValue == null || newValue[k] == null ? \"\" : newValue[k]\n      if (k[0] === \"-\") {\n        node[key].setProperty(k, oldValue)\n      } else {\n        node[key][k] = oldValue\n      }\n    }\n  } else if (key[0] === \"o\" && key[1] === \"n\") {\n    if (\n      !((node.actions || (node.actions = {}))[\n        (key = key.slice(2).toLowerCase())\n      ] = newValue)\n    ) {\n      node.removeEventListener(key, listener)\n    } else if (!oldValue) {\n      node.addEventListener(key, listener)\n    }\n  } else if (!isSvg && key !== \"list\" && key in node) {\n    node[key] = newValue == null ? \"\" : newValue\n  } else if (\n    newValue == null ||\n    newValue === false ||\n    (key === \"class\" && !(newValue = createClass(newValue)))\n  ) {\n    node.removeAttribute(key)\n  } else {\n    node.setAttribute(key, newValue)\n  }\n}\n\nvar createNode = function(vdom, listener, isSvg) {\n  var ns = \"http://www.w3.org/2000/svg\"\n  var props = vdom.props\n  var node =\n    vdom.type === TEXT_NODE\n      ? document.createTextNode(vdom.name)\n      : (isSvg = isSvg || vdom.name === \"svg\")\n      ? document.createElementNS(ns, vdom.name, { is: props.is })\n      : document.createElement(vdom.name, { is: props.is })\n\n  for (var k in props) {\n    patchProperty(node, k, null, props[k], listener, isSvg)\n  }\n\n  for (var i = 0, len = vdom.children.length; i < len; i++) {\n    node.appendChild(\n      createNode(\n        (vdom.children[i] = getVNode(vdom.children[i])),\n        listener,\n        isSvg\n      )\n    )\n  }\n\n  return (vdom.node = node)\n}\n\nvar getKey = function(vdom) {\n  return vdom == null ? null : vdom.key\n}\n\nvar patch = function(parent, node, oldVNode, newVNode, listener, isSvg) {\n  if (oldVNode === newVNode) {\n  } else if (\n    oldVNode != null &&\n    oldVNode.type === TEXT_NODE &&\n    newVNode.type === TEXT_NODE\n  ) {\n    if (oldVNode.name !== newVNode.name) node.nodeValue = newVNode.name\n  } else if (oldVNode == null || oldVNode.name !== newVNode.name) {\n    node = parent.insertBefore(\n      createNode((newVNode = getVNode(newVNode)), listener, isSvg),\n      node\n    )\n    if (oldVNode != null) {\n      parent.removeChild(oldVNode.node)\n    }\n  } else {\n    var tmpVKid\n    var oldVKid\n\n    var oldKey\n    var newKey\n\n    var oldVProps = oldVNode.props\n    var newVProps = newVNode.props\n\n    var oldVKids = oldVNode.children\n    var newVKids = newVNode.children\n\n    var oldHead = 0\n    var newHead = 0\n    var oldTail = oldVKids.length - 1\n    var newTail = newVKids.length - 1\n\n    isSvg = isSvg || newVNode.name === \"svg\"\n\n    for (var i in merge(oldVProps, newVProps)) {\n      if (\n        (i === \"value\" || i === \"selected\" || i === \"checked\"\n          ? node[i]\n          : oldVProps[i]) !== newVProps[i]\n      ) {\n        patchProperty(node, i, oldVProps[i], newVProps[i], listener, isSvg)\n      }\n    }\n\n    while (newHead <= newTail && oldHead <= oldTail) {\n      if (\n        (oldKey = getKey(oldVKids[oldHead])) == null ||\n        oldKey !== getKey(newVKids[newHead])\n      ) {\n        break\n      }\n\n      patch(\n        node,\n        oldVKids[oldHead].node,\n        oldVKids[oldHead],\n        (newVKids[newHead] = getVNode(\n          newVKids[newHead++],\n          oldVKids[oldHead++]\n        )),\n        listener,\n        isSvg\n      )\n    }\n\n    while (newHead <= newTail && oldHead <= oldTail) {\n      if (\n        (oldKey = getKey(oldVKids[oldTail])) == null ||\n        oldKey !== getKey(newVKids[newTail])\n      ) {\n        break\n      }\n\n      patch(\n        node,\n        oldVKids[oldTail].node,\n        oldVKids[oldTail],\n        (newVKids[newTail] = getVNode(\n          newVKids[newTail--],\n          oldVKids[oldTail--]\n        )),\n        listener,\n        isSvg\n      )\n    }\n\n    if (oldHead > oldTail) {\n      while (newHead <= newTail) {\n        node.insertBefore(\n          createNode(\n            (newVKids[newHead] = getVNode(newVKids[newHead++])),\n            listener,\n            isSvg\n          ),\n          (oldVKid = oldVKids[oldHead]) && oldVKid.node\n        )\n      }\n    } else if (newHead > newTail) {\n      while (oldHead <= oldTail) {\n        node.removeChild(oldVKids[oldHead++].node)\n      }\n    } else {\n      for (var i = oldHead, keyed = {}, newKeyed = {}; i <= oldTail; i++) {\n        if ((oldKey = oldVKids[i].key) != null) {\n          keyed[oldKey] = oldVKids[i]\n        }\n      }\n\n      while (newHead <= newTail) {\n        oldKey = getKey((oldVKid = oldVKids[oldHead]))\n        newKey = getKey(\n          (newVKids[newHead] = getVNode(newVKids[newHead], oldVKid))\n        )\n\n        if (\n          newKeyed[oldKey] ||\n          (newKey != null && newKey === getKey(oldVKids[oldHead + 1]))\n        ) {\n          if (oldKey == null) {\n            node.removeChild(oldVKid.node)\n          }\n          oldHead++\n          continue\n        }\n\n        if (newKey == null || oldVNode.type === RECYCLED_NODE) {\n          if (oldKey == null) {\n            patch(\n              node,\n              oldVKid && oldVKid.node,\n              oldVKid,\n              newVKids[newHead],\n              listener,\n              isSvg\n            )\n            newHead++\n          }\n          oldHead++\n        } else {\n          if (oldKey === newKey) {\n            patch(\n              node,\n              oldVKid.node,\n              oldVKid,\n              newVKids[newHead],\n              listener,\n              isSvg\n            )\n            newKeyed[newKey] = true\n            oldHead++\n          } else {\n            if ((tmpVKid = keyed[newKey]) != null) {\n              patch(\n                node,\n                node.insertBefore(tmpVKid.node, oldVKid && oldVKid.node),\n                tmpVKid,\n                newVKids[newHead],\n                listener,\n                isSvg\n              )\n              newKeyed[newKey] = true\n            } else {\n              patch(\n                node,\n                oldVKid && oldVKid.node,\n                null,\n                newVKids[newHead],\n                listener,\n                isSvg\n              )\n            }\n          }\n          newHead++\n        }\n      }\n\n      while (oldHead <= oldTail) {\n        if (getKey((oldVKid = oldVKids[oldHead++])) == null) {\n          node.removeChild(oldVKid.node)\n        }\n      }\n\n      for (var i in keyed) {\n        if (newKeyed[i] == null) {\n          node.removeChild(keyed[i].node)\n        }\n      }\n    }\n  }\n\n  return (newVNode.node = node)\n}\n\nvar propsChanged = function(a, b) {\n  for (var k in a) if (a[k] !== b[k]) return true\n  for (var k in b) if (a[k] !== b[k]) return true\n}\n\nvar getVNode = function(newVNode, oldVNode) {\n  return newVNode.type === LAZY_NODE\n    ? ((!oldVNode || propsChanged(oldVNode.lazy, newVNode.lazy)) &&\n        ((oldVNode = newVNode.lazy.view(newVNode.lazy)).lazy = newVNode.lazy),\n      oldVNode)\n    : newVNode\n}\n\nvar createVNode = function(name, props, children, node, key, type) {\n  return {\n    name: name,\n    props: props,\n    children: children,\n    node: node,\n    type: type,\n    key: key\n  }\n}\n\nvar createTextVNode = function(value, node) {\n  return createVNode(value, EMPTY_OBJ, EMPTY_ARR, node, undefined, TEXT_NODE)\n}\n\nvar recycleNode = function(node) {\n  return node.nodeType === TEXT_NODE\n    ? createTextVNode(node.nodeValue, node)\n    : createVNode(\n        node.nodeName.toLowerCase(),\n        EMPTY_OBJ,\n        map.call(node.childNodes, recycleNode),\n        node,\n        undefined,\n        RECYCLED_NODE\n      )\n}\n\nexport var Lazy = function(props) {\n  return {\n    lazy: props,\n    type: LAZY_NODE\n  }\n}\n\nexport var h = function(name, props) {\n  for (var vdom, rest = [], children = [], i = arguments.length; i-- > 2; ) {\n    rest.push(arguments[i])\n  }\n\n  while (rest.length > 0) {\n    if (isArray((vdom = rest.pop()))) {\n      for (var i = vdom.length; i-- > 0; ) {\n        rest.push(vdom[i])\n      }\n    } else if (vdom === false || vdom === true || vdom == null) {\n    } else {\n      children.push(typeof vdom === \"object\" ? vdom : createTextVNode(vdom))\n    }\n  }\n\n  props = props || EMPTY_OBJ\n\n  return typeof name === \"function\"\n    ? name(props, children)\n    : createVNode(name, props, children, undefined, props.key)\n}\n\nexport var app = function(props) {\n  var state = {}\n  var lock = false\n  var view = props.view\n  var node = props.node\n  var vdom = node && recycleNode(node)\n  var subscriptions = props.subscriptions\n  var subs = []\n\n  var listener = function(event) {\n    dispatch(this.actions[event.type], event)\n  }\n\n  var setState = function(newState) {\n    if (state !== newState) {\n      state = newState\n      if (subscriptions) {\n        subs = patchSubs(subs, batch([subscriptions(state)]), dispatch)\n      }\n      if (view && !lock) defer(render, (lock = true))\n    }\n    return state\n  }\n\n  var dispatch = (props.middleware ||\n    function(obj) {\n      return obj\n    })(function(action, props) {\n    return typeof action === \"function\"\n      ? dispatch(action(state, props))\n      : isArray(action)\n      ? typeof action[0] === \"function\"\n        ? dispatch(\n            action[0],\n            typeof action[1] === \"function\" ? action[1](props) : action[1]\n          )\n        : (batch(action.slice(1)).map(function(fx) {\n            fx && fx[0](dispatch, fx[1])\n          }, setState(action[0])),\n          state)\n      : setState(action)\n  })\n\n  var render = function() {\n    lock = false\n    node = patch(\n      node.parentNode,\n      node,\n      vdom,\n      (vdom =\n        typeof (vdom = view(state)) === \"string\"\n          ? createTextVNode(vdom)\n          : vdom),\n      listener\n    )\n  }\n\n  dispatch(props.init)\n}\n","import { h } from 'hyperapp';\nimport styles from './button.css';\n\nconst Button = ({ className, isActive, ...props }, children) => {\n  const activeStyle = isActive ? styles.btnActive : '';\n  const classNames = `${styles.btn} ${className} ${activeStyle}`;\n\n  return (\n    <button className={classNames} {...props}>\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import { h } from 'hyperapp';\n\nimport styles from './spinner.css';\n\nexport default ({ className, size = 1, thickness = 2 }) => (\n  <div\n    className={`${styles.spinner} ${className}`}\n    style={{\n      width: `${size}em`,\n      height: `${size}em`,\n      borderWidth: `${thickness}px`\n    }}\n  />\n);\n","import { h } from 'hyperapp';\n\nimport Spinner from './spinner.jsx';\nimport styles from './recordingList.css';\n\nconst RecordingList = ({ recordings, updateRecording }) => {\n  return (\n    <div className={styles.list}>\n      {recordings.map((recording) => (\n        <Recording recording={recording} updateRecording={updateRecording} />\n      ))}\n    </div>\n  );\n};\n\nconst Recording = ({ recording, updateRecording }) => {\n  const { url, createdAt, exportUrl, isExporting } = recording;\n  const duration = 0.01;\n  let audioEl;\n  let context;\n  let gainNode;\n  let panNode;\n  let bassNode;\n  let midNode;\n  let trebleNode;\n\n  const handleOnCreate = (event) => {\n    context = new AudioContext();\n    audioEl = event.target;\n\n    const track = context.createMediaElementSource(audioEl);\n\n    gainNode = context.createGain();\n\n    panNode = new StereoPannerNode(context, { pan: 0 });\n\n    bassNode = context.createBiquadFilter();\n    bassNode.type = 'lowshelf';\n    bassNode.frequency.setValueAtTime(500, context.currentTime);\n\n    midNode = context.createBiquadFilter();\n    midNode.type = 'peaking';\n    midNode.Q.setValueAtTime(Math.SQRT1_2, context.currentTime);\n    midNode.frequency.setValueAtTime(1500, context.currentTime);\n\n    trebleNode = context.createBiquadFilter();\n    trebleNode.type = 'highshelf';\n    trebleNode.frequency.setValueAtTime(3000, context.currentTime);\n\n    track\n      .connect(gainNode)\n      .connect(bassNode)\n      .connect(midNode)\n      .connect(trebleNode)\n      .connect(panNode)\n      .connect(context.destination);\n  };\n\n  const exportWithEffects = (evt) => {\n    evt.preventDefault();\n    updateRecording({ ...recording, isExporting: true });\n    let chunks = [];\n    const destination = context.createMediaStreamDestination();\n    const mediaRecorder = new MediaRecorder(destination.stream);\n\n    panNode.disconnect(context.destination);\n    panNode.connect(destination);\n\n    audioEl.pause();\n    audioEl.loop = false;\n    audioEl.currentTime = 0;\n\n    mediaRecorder.addEventListener('dataavailable', (event) => {\n      if (typeof event.data === 'undefined') return;\n      if (event.data.size === 0) return;\n      chunks.push(event.data);\n    });\n\n    audioEl.addEventListener('ended', function handleEnded() {\n      audioEl.removeEventListener('ended', handleEnded);\n      mediaRecorder.stop();\n    });\n\n    mediaRecorder.addEventListener('stop', () => {\n      const blob = new Blob(chunks, { type: 'audio/webm' });\n      const blobUrl = URL.createObjectURL(blob);\n\n      chunks = [];\n      panNode.disconnect(destination);\n      panNode.connect(context.destination);\n\n      updateRecording({ ...recording, exportUrl: blobUrl, isExporting: false });\n    });\n\n    mediaRecorder.start();\n    audioEl.play();\n  };\n\n  const handleGain = (event) => {\n    gainNode.gain.setTargetAtTime(\n      Number(event.target.value),\n      context.currentTime,\n      duration\n    );\n  };\n\n  const handlePan = (event) => {\n    panNode.pan.setTargetAtTime(\n      Number(event.target.value),\n      context.currentTime,\n      duration\n    );\n  };\n\n  const handleBass = (event) => {\n    bassNode.gain.setTargetAtTime(\n      Number(event.target.value),\n      context.currentTime,\n      duration\n    );\n  };\n\n  const handleMid = (event) => {\n    midNode.gain.setTargetAtTime(\n      Number(event.target.value),\n      context.currentTime,\n      duration\n    );\n  };\n\n  const handleTreble = (event) => {\n    trebleNode.gain.setTargetAtTime(\n      Number(event.target.value),\n      context.currentTime,\n      duration\n    );\n  };\n\n  const toggleLoop = ({ target }) => {\n    audioEl.loop = target.checked;\n  };\n\n  const skipState = (fn) => (state, event) => {\n    fn(event);\n    return state;\n  };\n\n  const controls = {\n    gain: {\n      min: 0,\n      max: 10,\n      step: 0.5,\n      value: 1,\n      onInput: handleGain\n    },\n    pan: {\n      min: -1,\n      max: 1,\n      step: 0.1,\n      value: 0,\n      onInput: handlePan\n    },\n    bass: {\n      min: -50,\n      max: 50,\n      step: 0.5,\n      value: 0,\n      onInput: handleBass\n    },\n    mid: {\n      min: -50,\n      max: 50,\n      step: 0.5,\n      value: 0,\n      onInput: handleMid\n    },\n    treble: {\n      min: -50,\n      max: 50,\n      step: 0.5,\n      value: 0,\n      onInput: handleTreble\n    }\n  };\n\n  return (\n    <div className={styles.list}>\n      <div className={styles.row}>\n        {/* <span>{getTime(createdAt)}</span> */}\n\n        <audio src={url} controls onloadeddata={skipState(handleOnCreate)} />\n\n        <label>\n          <input type=\"checkbox\" onChange={skipState(toggleLoop)} />\n          Loop\n        </label>\n\n        {/* <a\n          href={url}\n          download={`recording-${new Date(createdAt).toLocaleString()}.webm`}\n        >\n          Download\n        </a> */}\n\n        {exportUrl ? (\n          <a\n            href={exportUrl}\n            download={`recording-exported-${new Date(\n              createdAt\n            ).toLocaleString()}.webm`}\n          >\n            Download\n          </a>\n        ) : (\n          <a href=\"#\" onClick={skipState(exportWithEffects)}>\n            Apply effects\n          </a>\n        )}\n\n        {isExporting && <Spinner />}\n      </div>\n\n      <div className={styles.row}>\n        {Object.entries(controls).map(\n          ([name, { min, max, step, value, onInput }]) => (\n            <Slider\n              name={name}\n              min={min}\n              max={max}\n              step={step}\n              value={value}\n              onInput={skipState(onInput)}\n            />\n          )\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst Slider = ({ name, min, max, step, value, onInput }) => (\n  <div className={styles.sliderContainer}>\n    <p>{name}</p>\n    <div className={styles.slider}>\n      <span>{min}</span>\n      <input\n        className={styles.sliderEl}\n        type=\"range\"\n        min={min}\n        max={max}\n        step={step}\n        value={value}\n        oninput={onInput}\n      />\n      <span>{max}</span>\n    </div>\n  </div>\n);\n\n// const timeFormatter = new Intl.DateTimeFormat('sv-SE', {\n//   hour: '2-digit',\n//   minute: '2-digit'\n// });\n// function getTime(timestamp) {\n//   return timeFormatter.format(timestamp);\n// }\n\nexport default RecordingList;\n","import { h } from 'hyperapp';\n\nimport Button from './button.jsx';\nimport RecordingList from './recordingList.jsx';\n\nimport styles from './app.css';\n\nlet setState;\nexport function setDispatch(fn) {\n  setState = fn;\n}\nfunction mergeState(partial) {\n  setState((state) => ({ ...state, ...partial }));\n}\n\nconst App = ({ error, recorder, isRecording, recordings }) => {\n  const getMic = (state) => {\n    getUserMedia();\n    return state;\n  };\n\n  const toggleRecording = (state) => {\n    if (state.isRecording) {\n      recorder.stop();\n      return { ...state, isRecording: false };\n    }\n    recorder.start();\n    return { ...state, isRecording: true };\n  };\n\n  const updateRecording = (recording) => {\n    const recordingToUpdate = recordings.find(\n      ({ createdAt }) => createdAt === recording.createdAt\n    );\n    const index = recordings.indexOf(recordingToUpdate);\n\n    const updatedRecordings = [\n      ...recordings.slice(0, index),\n      { ...recording, updatedAt: Date.now() },\n      ...recordings.slice(index + 1)\n    ];\n\n    mergeState({\n      recordings: updatedRecordings\n    });\n  };\n\n  const recordButtonText = isRecording ? 'Stop recording' : 'Start recording';\n\n  return (\n    <div className={styles.app}>\n      <h1>Media Recorder</h1>\n\n      {error && <h3>{error}</h3>}\n\n      {recorder ? (\n        <Button isActive={isRecording} onClick={toggleRecording}>\n          {recordButtonText}\n        </Button>\n      ) : (\n        <Button onClick={getMic}>Get user media</Button>\n      )}\n\n      <RecordingList\n        recordings={recordings}\n        updateRecording={updateRecording}\n      />\n    </div>\n  );\n};\n\nexport default App;\n\nasync function getUserMedia() {\n  return navigator.mediaDevices\n    .getUserMedia({\n      audio: true,\n      video: false\n    })\n    .then(setupForRecording)\n    .catch(() => {\n      mergeState({\n        error: 'You denied access to the microphone so this demo will not work.'\n      });\n    });\n}\n\nfunction setupForRecording(stream) {\n  const mimeType = 'audio/webm';\n  const recRef = new MediaRecorder(stream, { type: mimeType });\n  mergeState({ recorder: recRef });\n\n  let chunks = [];\n\n  recRef.addEventListener('dataavailable', (event) => {\n    if (typeof event.data === 'undefined') return;\n    if (event.data.size === 0) return;\n    chunks.push(event.data);\n  });\n\n  recRef.addEventListener('stop', () => {\n    const blob = new Blob(chunks, { type: mimeType });\n    const newRecording = {\n      url: URL.createObjectURL(blob),\n      createdAt: Date.now()\n    };\n    chunks = [];\n\n    setState((state) => ({\n      ...state,\n      recordings: state.recordings\n        ? [...state.recordings, newRecording]\n        : [newRecording]\n    }));\n  });\n}\n","import { h, app } from 'hyperapp';\n\nimport App, { setDispatch } from './components/app.jsx';\nimport './styles.css';\n\nconst state = {\n  error: '',\n  recorder: undefined,\n  isRecording: false,\n  recordings: []\n};\n\napp({\n  init: state,\n  view: App,\n  node: document.getElementById('app-root'),\n  subscriptions: (s) => console.log('state', s),\n  middleware(dispatch) {\n    setDispatch(dispatch);\n    return dispatch;\n  }\n});\n"]}